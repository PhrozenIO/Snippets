// Jean-Pierre LESUEUR (@DarkCoderSc)

uses
  System.SysUtils, Winapi.Windows;

// ...

function UserName() : string;
begin
  var ABuffer : array[0..256 -1] of WideChar;
  var ABufferLen : DWORD := Length(ABuffer);

  if GetUserName(ABuffer, ABufferLen) then
    SetString(result, ABuffer, ABufferLen)
  else
    raise EWindowsException.Create('GetUserName');
end;

// ...

WriteLn(UserName());